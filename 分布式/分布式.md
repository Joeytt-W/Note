## 实现负载均衡

* 软件
  * ``nginx``等
* 硬件

实现负载均衡的算法

* 根据请求数，能实现各个服务器较为平均的分担请求，一台有问题影响不大，但需要同步session等服务器之间的状态
* 根据Ip,ip_hash可以把同一个ip的请求映射到一个服务器上，解决了session同步的问题，但该服务器有问题服务器上的数据和请求都会有问题

> 会话保持：负载均衡的一种机制，保证同一用户相关联的请求会分配到同一台服务器上

# 保持session同步

1. 利用数据库。影响速度
2. 利用cookie，把用户访问产生的session放到cookie里，在访问另一台服务器时先校验服务器上有没有session，没有则到cookie找，找到后同步到当前服务器。cookie不安全
3. memcache，把web服务器中的内存组合成内存池。可能会内存溢出