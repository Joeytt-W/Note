# ``Convert.ToInt(str)``；``int.Parse(str)``；``int.TyrParse(str)``;的区别

## 先给结论：

当转化的是“”时，``int.Parse(str)``和``Convert.ToInt32(str)``抛出异常``FormatException``：输入字符串的格式不正确；``int.TryParse(str, out outNumber)``返回值为false，``outNumber``为0

转化的是null时，``int.Parse(str)``抛出异常``ArgumentNullException``：值不能为 null；``int.TryParse(str, out outNumber)``返回值为false，``outNumber``为0；``Convert.ToInt32(str) ``输出结果 0

转化非数字字符串时：``int.Parse(str)``和``Convert.ToInt32(str)``抛出异常``FormatException``：输入字符串的格式不正确；``int.TryParse(str, out outNumber)``返回值为false，``outNumber``为0

1. 正常的将数字字符串转化

```c#
		static void Main(string[] args)
        {
            string str = "1234";

            Console.WriteLine($"int.Parse(str) ======== {int.Parse(str)}");

            bool success = int.TryParse(str, out var outNumber);

            Console.WriteLine($"int.TryParse(str, out outNumber):success ======== {success} ======== outNumber ======== {outNumber}");

            Console.WriteLine($"Convert.ToInt32(str) ======= {Convert.ToInt32(str)}");
            Console.ReadKey();
        }
```

输出结果：

```shell
int.Parse(str) ======== 1234
int.TryParse(str, out outNumber):success ======== True ======== outNumber ======== 1234
Convert.ToInt32(str) ======= 1234
```

2. 转化的是空字符串

```c# string str = "";
            try
            {
                Console.WriteLine($"int.Parse(str) ======== {int.Parse(str)}");
            }
            catch (FormatException fex)
            {
                Console.WriteLine($"int.Parse(str)异常FormatException：{fex.Message}====={fex.StackTrace}");
            }

            bool success = int.TryParse(str, out var outNumber);

            Console.WriteLine($"int.TryParse(str, out outNumber):success ======== {success} ======== outNumber ======== {outNumber}");
            try
            {
                Console.WriteLine($"Convert.ToInt32(str) ======= {Convert.ToInt32(str)}");
            }
            catch (FormatException fex)
            {
                Console.WriteLine($"Convert.ToInt32(str)异常FormatException：{fex.Message}====={fex.StackTrace}");
            }
            Console.ReadKey();
```

输出结果：

```shell
int.Parse(str)异常FormatException：输入字符串的格式不正确。=====   在 System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   在 System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info)
   在 System.Int32.Parse(String s)
   在 ToInt.Program.Main(String[] args) 位置 D:\文件\我的\C#\其他\ToInt\ToInt\Program.cs:行号 16
int.TryParse(str, out outNumber):success ======== False ======== outNumber ======== 0
Convert.ToInt32(str)异常FormatException：输入字符串的格式不正确。=====   在 System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   在 System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info)
   在 System.Convert.ToInt32(String value)
   在 ToInt.Program.Main(String[] args) 位置 D:\文件\我的\C#\其他\ToInt\ToInt\Program.cs:行号 28

```

3. 转化的是null

```c#
try
            {
                Console.WriteLine($"int.Parse(str) ======== {int.Parse(null)}");
            }
            catch (FormatException fex)
            {
                Console.WriteLine($"int.Parse(str)异常FormatException：{fex.Message}====={fex.StackTrace}");
            }
            catch (ArgumentNullException aex)
            {
                Console.WriteLine($"int.Parse(str)异常ArgumentNullException：{aex.Message}====={aex.StackTrace}");
            }

            bool success = int.TryParse(null, out var outNumber);

            Console.WriteLine($"int.TryParse(str, out outNumber):success ======== {success} ======== outNumber ======== {outNumber}");
            try
            {
                Console.WriteLine($"Convert.ToInt32(str) ======= {Convert.ToInt32(null)}");
            }
            catch (FormatException fex)
            {
                Console.WriteLine($"Convert.ToInt32(str)异常FormatException：{fex.Message}====={fex.StackTrace}");
            }
            catch (ArgumentNullException aex)
            {
                Console.WriteLine($"Convert.ToInt32(str)异常ArgumentNullException：{aex.Message}====={aex.StackTrace}");
            }
```

输出结果:

```shell
int.Parse(str)异常ArgumentNullException：值不能为 null。
参数名: String=====   在 System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   在 System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info)
   在 System.Int32.Parse(String s)
   在 ToInt.Program.Main(String[] args) 位置 D:\文件\我的\C#\其他\ToInt\ToInt\Program.cs:行号 16
int.TryParse(str, out outNumber):success ======== False ======== outNumber ======== 0
Convert.ToInt32(str) ======= 0
```

4. 转化非数字字符串

```c#
string str = "abc";
            try
            {
                Console.WriteLine($"int.Parse(str) ======== {int.Parse(str)}");
            }
            catch (FormatException fex)
            {
                Console.WriteLine($"int.Parse(str)异常FormatException：{fex.Message}====={fex.StackTrace}");
            }
            catch (ArgumentNullException aex)
            {
                Console.WriteLine($"int.Parse(str)异常ArgumentNullException：{aex.Message}====={aex.StackTrace}");
            }

            bool success = int.TryParse(str, out var outNumber);

            Console.WriteLine($"int.TryParse(str, out outNumber):success ======== {success} ======== outNumber ======== {outNumber}");
            try
            {
                Console.WriteLine($"Convert.ToInt32(str) ======= {Convert.ToInt32(str)}");
            }
            catch (FormatException fex)
            {
                Console.WriteLine($"Convert.ToInt32(str)异常FormatException：{fex.Message}====={fex.StackTrace}");
            }
            catch (ArgumentNullException aex)
            {
                Console.WriteLine($"Convert.ToInt32(str)异常ArgumentNullException：{aex.Message}====={aex.StackTrace}");
            }
```

输出结果：

```shell
int.Parse(str)异常FormatException：输入字符串的格式不正确。=====   在 System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   在 System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info)
   在 System.Int32.Parse(String s)
   在 ToInt.Program.Main(String[] args) 位置 D:\文件\我的\C#\其他\ToInt\ToInt\Program.cs:行号 16
int.TryParse(str, out outNumber):success ======== False ======== outNumber ======== 0
Convert.ToInt32(str)异常FormatException：输入字符串的格式不正确。=====   在 System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer& number, NumberFormatInfo info, Boolean parseDecimal)
   在 System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info)
   在 System.Convert.ToInt32(String value)
   在 ToInt.Program.Main(String[] args) 位置 D:\文件\我的\C#\其他\ToInt\ToInt\Program.cs:行号 32
```